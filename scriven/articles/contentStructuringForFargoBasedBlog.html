<!DOCTYPE html>
<html>
	<head>
		<title>Content Structuring Ideas for a Fargo Based Blog</title>
		<meta charset='utf-8'> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<script>var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-48616896-1']); _gaq.push(['_setDomainName', 'chrisdadswell.co.uk']); _gaq.push(['_trackPageview']); (function() {var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })();</script>
		<!-- useBootstrap -->
	<link href="http://static.smallpicture.com/bootswatch/readable/bootstrap.min.css" rel="stylesheet" />
	<script src="http://static.smallpicture.com/bootstrap/js/jquery-1.9.1.min.js"></script>
	<script src="http://static.smallpicture.com/bootstrap/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="http://static.smallpicture.com/concord-assets/fontawesome/4.1.0/css/font-awesome.min.css">
		<!-- useSmallPictStyles -->
	<link href="http://fargo.io/cms/platform.css?v=0.48" rel="stylesheet">
	<script src="http://fargo.io/cms/platform.js?v=0.48"></script>
	<script>
		var pagetable = {
    "opmlUrl": "",
    "opmlTitle": "Articles",
    "opmlOwnerName": "Chris Dadswell",
    "opmlOwnerEmail": "chrisdadswell@gmail.com",
    "opmlDateModified": "Thu, 23 Oct 2014 17:50:34 GMT",
    "opmlExpansionState": "",
    "opmlLastCursor": "10",
    "opmlOwnerProfile": "scriven.chrisdadswell.co.uk/about.html",
    "opmlLinkPublicUrl": "https://dl.dropbox.com/s/ikd20gpzlebbu6i/articles.opml?dl=0",
    "opmlLink": "",
    "opmlDescription": "",
    "opmlDateCreated": "",
    "opmlLongTitle": "",
    "opmlOwnerId": "",
    "opmlFeed": "",
    "menuname": "default",
    "googleAnalyticsID": "UA-48616896-1",
    "domain": "chrisdadswell.co.uk",
    "bootstrapTheme": "readable",
    "type": "outline",
    "slogan": "Ask not what the Internet can do for you...",
    "disqusGroupName": "smallpict",
    "siteTimeZone": "-2",
    "dateFormat": "%A, %B %e, %Y at %l:%M %p",
    "flIndexPage": false,
    "flDisqusComments": true,
    "flStoryTextOnIndexPage": false,
    "flNonDocHeadsOnIndexPage": true,
    "flStoryDateOnIndexPage": false,
    "storyDateFormat": "%D; %r",
    "maxStoriesOnIndexPage": 25,
    "maxStoryList": 25,
    "authorTwitterAccount": "@chrisdadswell",
    "authorFacebookAccount": "",
    "authorProfileUrl": "scriven.chrisdadswell.co.uk/about.html",
    "titleColor": "white",
    "siteFolder": "blogs/scriven/articles/",
    "flProfile": false,
    "ctLevelsOnIndexPage": 1,
    "blogHomeItemCount": 25,
    "flPgfPermaLinks": false,
    "flFixedMenu": "false",
    "maxStreamDays": "14",
    "flMarkdown": true,
    "leftIndent": 0,
    "text": "Content Structuring Ideas for a Fargo Based Blog",
    "created": "Sun, 19 Oct 2014 18:47:46 GMT",
    "description": "",
    "path": "contentStructuringForFargoBasedBlog",
    "subheadColor": "white",
    "flMapHeader": "false",
    "mapLatitude": "40.774295",
    "mapLongitude": "-73.970833",
    "mapType": "roadmap",
    "mapZoom": "14",
    "flSnapEnabled": "true",
    "flHideByline": "false",
    "backgroundImage": "",
    "streamHighlightColor": "yellow",
    "streamTextFrameColor": "whitesmoke",
    "streamVersion": "2",
    "flEmojify": "true",
    "authorGithubAccount": "chrisdadswell",
    "authorLinkedInAccount": "christiandadswell",
    "menutitle": "Articles",
    "name": "contentStructuringForFargoBasedBlog",
    "cssUrl": "http://static.smallpicture.com/bootswatch/readable/bootstrap.min.css",
    "menuTitle": "Articles",
    "now": "Thu Oct 23 2014 18:50:35 GMT+0100 (GMT Summer Time)",
    "copyright": "&copy; 2014 Chris Dadswell.",
    "url": "/contentStructuringForFargoBasedBlog.html"
}; //12/12/13 by DW
		</script>
		<style>
			@media only screen 
			and (min-device-width : 320px) 
			and (max-device-width : 480px) {
				.navbar .nav>li {
					display: none;
					height: 0;
					}
				.divFargoSocialMediaLinks {
					display: none;
					}
				.container {
					margin-top: 10px;
					width: 90%;
					}
				.divFargoMarkdown p {
					font-size: 17px;
					line-height: 140%;
					}
				h2 {
					font-size: 24px;
					line-height: 140%;
					}
				.divHeadlineUnit {
					margin-bottom: 5px;
					}
				.divPrevNext {
					font-size: 1.2em;
					}
				.divBreadcrumbs {
					display: none;
					font-size: 15px;
					}
				.breadcrumb>li>.divider {
					padding: 0;
					padding-left: 1px;
					}
				.spSlogan {
					display: none;
					}
				}
			</style>
		<style>
			.divOutlineImage {
				height: 100%;
				width: 100%;
				position: absolute;
				right: 0;
				
				-webkit-background-size: cover;
				-moz-background-size: cover;
				-o-background-size: cover;
				background-size: cover;
				background-position: center;
				background-repeat: no-repeat;
				
				z-index: -1;
				opacity: 1;
				}
			.divTextInFrontOfImage {
				background-color: white; 
				opacity: .90;
				padding: 1.5em;
				border:2px solid whitesmoke;
				}
			.spSlogan {
				display: none;
				}
			</style>
		<style>
			.divOutlineNoMarkdown {
				font-size: 20px;
				line-height: 150%;
				}
			.divOutlineNoMarkdown li {
				line-height: 150%;
				}
			.divOutlineNoMarkdown li {
				}
			.divOutlineNoMarkdown .ulOutlineList {
				padding: 0;
				margin: 0;
				}
			.divOutlineNoMarkdown .liOutline {
				list-style-type: none;
				margin-bottom: .5em;
				}
			.divOutlineNoMarkdown .divOutlineHead {
				font-weight: bold;
				margin-top: 13px;
				margin-bottom: 13px;
				}
			.divOutlineNoMarkdown .liHasSubs ul {
				}
			.divOutlineNoMarkdown .liNoSubs {
				}
			.divOutlineNoMarkdown .spOutlineIcon {
				margin-right: -11px;
				}
			.divOutlineNoMarkdown .aOutlineWedgeLink {
				color: black;
				}
			.divOutlineNoMarkdown .aOutlineWedgeLink i {
				color: black;
				cursor: pointer;
				position: relative;
				width: .5em;
				left: -1em;
				}
			.divOutlineNoMarkdown .aOutlineTextLink {
				cursor: pointer;
				color: black;
				text-decoration: none;
				}
			.divOutlineNoMarkdown .spPermalink {
				}
			.divOutlineNoMarkdown .spPermalink a {
				text-decoration: none;
				color: purple;
				font-size: 10px;
				font-weight: normal;
				vertical-align: top;
				margin-left: 3px;
				}
			.divOutlineNoMarkdown code {
				display: inline;
				border: none;
				color: black;
				font-size: .85em;
				}
			</style>
		<!-- customStylesScripts -->
		<style>
.navbar .brand {
	font-family: 'Rancho' !important;
	font-size: 36px !important;
	font-weight: normal !important;
	}


.divStreamDayText {
	font-family: 'Ubuntu';
	font-size: 20px;
	}
.divStreamDayHead {
	font-family: 'Ubuntu', sans-serif;
	font-size: 36px;
	font-weight: bold;
	margin-top: .1em;
	margin-bottom: .60em;
	-webkit-margin-after: .60em;
	}
.navbar {
	font-family: 'Ubuntu';
	font-size: 17px;
	}
.body {
	font-family: 'Ubuntu';
	}


.divFargoSocialMediaLinks {
	visibility: hidden;
}

</style>
		<script>
			function ecOutline (idnum) { //7/12/14 by DW
				var c = document.getElementById ("idOutlineWedge" + idnum), idUL = "#idOutlineLevel" + idnum;
				if (c.className == "fa fa-caret-down") {
					c.className = "fa fa-caret-right";
					c.style.color = "black";
					$(idUL).slideUp (75);
					}
				else {
					c.className = "fa fa-caret-down";
					c.style.color = "silver";
					$(idUL).slideDown (75);
					}
				}
			function startupOutlineTemplate () {
				if ((pagetable.backgroundImage != undefined) && (pagetable.backgroundImage.length > 0)) {
					var textInFront = document.getElementById ("idTextInFrontOfImage"); 
					textInFront.className = "divTextInFrontOfImage";
					
					var outlineImage = document.getElementById ("idOutlineImage"); 
					outlineImage.className = "divOutlineImage";
					outlineImage.style.backgroundImage = "url(\"" + pagetable.backgroundImage + "\")";
					}
				}
			</script>
		</head>
	<body>
		<div class="divFargoSocialMediaLinks"><a class="aSocialMediaLink" id="idTwitterLink" href="http://twitter.com/@chrisdadswell" target="_blank"><i class="fa fa-twitter" style="color: #4099FF; font-weight: bold;"></i></a>
<a class="aSocialMediaLink" id="idFacebookLink" href="http://facebook.com/" target="_blank"><i class="fa fa-facebook" style="color: #4C66A4; font-weight: bold;"></i></a>
<a class="aSocialMediaLink" id="idGithubLink" href="http://github.com/chrisdadswell" target="_blank"><i class="fa fa-github" style="color: black; font-weight: bold;"></i></a>
<a class="aSocialMediaLink" id="idLinkedInLink" href="http://www.linkedin.com/in/chrisdadswell" target="_blank"><i class="fa fa-linkedin" style="color: #069; font-weight: bold;"></i></a>
<a class="aSocialMediaLink" id="idRssLink" href="" target="_blank"><i class="fa fa-rss" style="color: orange; font-weight: bold;"></i></a>
</div>
		
<div class="navbar navbar-static-top" id="idFargoNavbar">
	<div class="navbar-inner">
		<div class="navbar-container">
			<a class="brand" href="">Articles</a>
			<ul class="nav">
				<li><a href="http://radio3.io/users/chrisdadswell" target="_blank">Linkblog</a></li>
				<li><a href="http://rivers.chrisdadswell.co.uk" target="_blank">River</a></li>
				<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Links&nbsp;<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="http://www.scripting.com">Scripting News</a></li>
						<li><a href="http://radio3.io/">Radio3</a></li>
						<li><a href="http://littlecardeditor.com">Little Card Editor</a></li>
						<li class="divider"></li>
						<li><a href="http://rss.chrisdadswell.co.uk/opml.php?op=publish&key=ivftyv53b090160e7d8">Public OPML Feed</a></li>
						<li><a href="http://littlecardeditor.com/users/chrisdadswell/rss.xml">Little Card Editor Feed</a></li>
						</ul>
					</li>
				<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Articles&nbsp;<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="http://scriven.chrisdadswell.co.uk/articles/contentStructuringForFargoBasedBlog.html">Content Structuring Ideas for a Fargo Based Blog</a></li>
						<li><a href="http://scriven.chrisdadswell.co.uk/articles/spendingTimeWithDocker.html">Spending time with Docker</a></li>
						<li><a href="http://scriven.chrisdadswell.co.uk/articles/howToSelfPublishingFargoBlog.html">How-To: Fargo Self-Publishing</a></li>
						<li><a href="http://scriven.chrisdadswell.co.uk/articles/howtofargoselfpublishingstorageoptions.html">How-To: Fargo Self-Publishing - VPS Storage</a></li>
						<li><a href="http://scriven.chrisdadswell.co.uk/articles/howToSetupAFargoRiverOfNews.html">How To: Setting up a River of news</a></li>
						<li><a href="http://scriven.chrisdadswell.co.uk/articles/fargoScripts/">Fargo Scripts</a></li>
						</ul>
					</li>
				<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Code Snippets&nbsp;<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="http://scriven.chrisdadswell.co.uk/codeSnippets/powercliCreatingLocalUsersAndRolesOnEsxi55u2.html" target="_blank"><a href="http://scriven.chrisdadswell.co.uk/codeSnippets/powercliCreatingLocalUsersAndRolesOnEsxi55u2.html">PowerCLI: Creating local users and roles on ESXi 5.5U2</a></a></li>
						<li><a href="http://scriven.chrisdadswell.co.uk/codeSnippets/powercliGettingAndSettingRoundRobinPlusIOPSESXi.html">PowerCLI: Getting and Setting Round Robin Pathing Policies on ESXi 5.5</a></li>
						</ul>
					</li>
				<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Options&nbsp;<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="javascript:turnOnImagesCommand ()" target="_blank">Turn images on</a></li>
						<li><a href="javascript:turnOffImagesCommand ();" target="_blank">Turn images off</a></li>
						</ul>
					</li>
				<li><a href="http://scriven.chrisdadswell.co.uk/about.html">About</a></li>
				</ul>
			</div>
		</div>
	</div>

		<div class="divFargoOutlineBody">
			<div id="idOutlineImage">
				<div id="idOutlineContainer" class="container">
					<div id="idTextInFrontOfImage">
						<div class="divHeadlineUnit" id="idHeadlineUnit">
							<div class="divPrevNext">
								<div class="divPrevNextLinks"><i class="fa fa-arrow-left" style="color: silver"></i>&nbsp;&nbsp;<a href="spendingTimeWithDocker.html" title="Spending some time with Docker" ><i class="fa fa-arrow-right" style="color: black"></i></a></div>
								</div>
							<div class="divBreadcrumbs" id="idBreadcrumbs">
								<ul id="idBreadcrumbList" class="breadcrumb"><li><a href="">Home</a></li></ul>
								</div>
							<h2>Content Structuring Ideas for a Fargo Based Blog</h2>
							</div>
						<div class="divFargoMarkdown" id="idFargoMarkdown"><p><a href="https://twitter.com/share?text=Content%20Structuring%20Ideas%20for%20a%20Fargo%20Based%20Blog&amp;url=undefined" target="_blank">Tweet This Post</a></p>

<p><a href="http://radio3.io/?title=Content%20Structuring%20Ideas%20for%20a%20Fargo%20Based%20Blog&amp;link=undefined&amp;description=Content%20Structuring%20Ideas%20for%20a%20Fargo%20Based%20Blog" target="_blank">Share article with Radio3</a></p>

<p>I use Fargo as my blogging CMS almost daily and really enjoy the flexibility it affords me. Of late though I had been noticing some serious lag when editing my main Scriven blog. I use Fargo.io 80% of the time on my Chromebook and it was getting close to unusable so I decided to perform some jiggery pockery to get things optimised.</p>

<p>Before I get onto the symptoms and remedial actions, here is the setup of this blog;</p>

<ul>
<li><p>Fargo publisher is self hosted - The publisher that produces the static files from Fargo.io</p></li>
<li><p>I use <code>#type="stream"</code> style blog</p></li>
<li><p>I use #siteFolder directive to publish the static content into Dropbox/Apps/Fargo/blogs/scriven. The directive looks like this <code>#siteFolder="/blogs/scriven/"</code> within my <a href="https://dl.dropbox.com/s/77dh8j4y3ql7zbe/scriven.opml">scriven.opml</a>.</p></li>
<li><p>The blog content is self hosted - The static pages are kept in sync with Dropbox and my web server.</p></li>
</ul>

<p><b>Symptoms</b></p>

<ul>
<li><p>The lag, for the most part, was most notable at page refreshes, when selecting a bar of text and entering new words into it and then whilst 'Save' process kicked in. This was freezing the interface for 3-4 seconds at a time. </p></li>
<li><p>Another area of lag occurred when expanding outlines. The larger the outline the worse the lag,.</p></li>
<li><p>I also found that if a large outline was expanded and I needed to jump up the page this would also cause a freeze in the interface.</p></li>
</ul>

<p><b>Cause</b></p>

<ul>
<li><p>I believe the cause of the lag is down to the active and open opml, in this instance Scriven.opml had too many entries in it. I'm assuming that this opml is opened and held in memory whilst it is being edited. I'd also assume that any opmls that are opened into Fargo are also held in memory. Watching the Chrome task manager doesn't seem to give much away when opening and closing opml files.</p></li>
<li><p>On machines with lowish memory, such as my 2gb Chromebook you can appreciate RAM is at a premium!</p></li>
<li><p>So in order to reduce the lag and up the performance one must reduce the amount of text, or large outlines in the opml.</p></li>
<li><p>Fortunately, I had a plan...</p></li>
</ul>

<p><b>Blog Structure</b></p>

<ul>
<li><p>Initially I started off by picking the low hanging fruit and archived previous calendar months worth of posts using menu option File | Archive cursor. This didn't seem to have much impact, but then the posts were never that large anyway. Mainly short titles and then a link to an article. </p></li>
<li><p>So the next issue was how to break out the articles and other lengthy posts from what I'll call my blog "shop face" i.e., the day to day short posts.</p></li>
<li><p>Fortunately I'd already broken down the structure of my blog so that the day to day posts didn't include the content of an article.  </p></li>
<li><p>All articles lived in a separate part of scriven.opml away from the day-to-day posts. To elaborate, I had a parent "Articles" entry with it's attribute set to "type | blogHome". I then created sub entries as the articles themselves as "type | outline". For example;</p></li>
<li><p>Articles &lt;- type | blogHome</p>

<ul><li><p>Some article I hope someone may want to read &lt;- type | outline</p></li>
<li><p>Another long article talking about this and that &lt;- type | outline</p></li></ul></li>
<li><p>When the blog was rendered, the 'Articles' entry gets created as a folder and the sub entries as article content. i.e., http://blogURL/articles/someArticleIHopeSomeoneMayWantToRead.html</p></li>
<li><p>I continued to use this method when I wanted to create articles under different categories. Such as my code snippets and virtualisation posts.</p></li>
</ul>

<p><b>Next steps</b></p>

<ul>
<li><p>So to split the articles from the shop face I decided to create a new <a href="https://dl.dropbox.com/s/ikd20gpzlebbu6i/articles.opml">articles.opml</a> file within Fargo and copy all the articles, including the parent to the new file. </p></li>
<li><p>So it looked like;</p>

<ul><li><p>Articles &lt;- type | blogHome</p></li>
<li><p>Some article I hope someone may want to read &lt;- type | outline</p></li>
<li><p>Another long article talking about this and that &lt;- type | outline</p></li></ul></li>
<li><p>I also copied over the #siteFolder directive.</p></li>
<li><p>When I first rendered the content again it has some undesirable effects. Firstly it rendered all the content to the correct folder, /articles, but the index.html that was rendered for /articles/index.hml was rendered also rendered into /scriven/index.html.</p></li>
<li><p>After a couple of minutes head scratching I realised my error. My #siteFolder was set /blog/scriven/</p></li>
<li><p>So I corrected this to /blog/scriven/articles/ and rendered all the articles again. This time it rendered to path /blogs/scriven/articlesarticles/</p></li>
<li><p>More head scratching and then :lightbulb:. I realised I didn't need a parent "Articles", I could just lump all the articles at the root! Re-rendered all content and it created the files correctly within /blog/scriven/articles/ and didn't overwrite the /blogs/scriven/index.html <img title=':thumbsup:' alt=':thumbsup:' class='emoji' src='http://fargo.io/code/emojify/images/emoji/thumbsup.png' align='absmiddle' /></p></li>
<li><p>The only other entry in the articles.opml file was the #menus directive that contains my blog menus. </p></li>
<li><p>On the subject of menus, I really want a way to have my menus in cmsPrefs.opml and have different menu titles per opml. If anyone knows how to do this, let me know.</p></li>
<li><p>I repeated the above for my virtualisation and code snippets categories.</p></li>
</ul>

<p><b>Results</b></p>

<ul>
<li><p>With scriven.opml now containing only day-to-day posts and a few other directives the performance increase was immediate.  </p></li>
<li><p>Load times are now quicker and there is no lag whatsoever when editing.</p></li>
<li><p>So you might be thinking, "well, you've just moved the lag to another opml!". Well no, that hasn't been the case. I am able to edit, expand and collapse with no noticeable lag in any of the open outlines!</p></li>
</ul>

<p>I sincerely <img title=':heart:' alt=':heart:' class='emoji' src='http://fargo.io/code/emojify/images/emoji/heart.png' align='absmiddle' /> using Fargo and the way in which I can control exactly how <b><i>I</i></b> want things to work and <i><b>where</b></i> the content is hosted. Totally under my control! </p>

<p>Looking forward, I can't wait to see what Dave is doing over at <a href="http://scripting.com/2014/10/20/newScriptingNewsHomePageComing.html">Scripting.com</a> in the near future. The tie up with all his recent efforts should be something pretty special.</p>

<p>Exciting times.</p></div>
						<div class="divFooterText">
							<hr>
							<p style="float: right;">Last built: Thu, Oct 23, 2014 at  3:50 PM</p>
							<script>var disqus_identifier = "Sun, 19 Oct 2014 18:47:46 GMT";</script><a onclick="showHideComments ()"><span id="idShowHideComments" style="cursor: pointer;"></span></a><div class="divDisqusComments" id="idDisqusComments" style="visibility: visible;" ><div id="disqus_thread"></div></div><script type="text/javascript" src="http://disqus.com/forums/smallpict/embed.js"></script></div>
							<div class="divByline" id="idByline">By <a href="scriven.chrisdadswell.co.uk/about.html" target="_blank">Chris Dadswell</a>, <span id="idWhenCreated">Sunday, October 19, 2014 at  4:47 PM</span>.  <span class="spSlogan" style="float: right;"><i>Your knees'll start shaking and your fingers pop like a pinch on the neck of Mr. Spock</i></span></div>
							</div>
						</div>
						</div>
				</div>
			</div>
		<script>
			startupFargoPlatform ();
			startupOutlineTemplate ();
			</script>
		</body>
	</html>
